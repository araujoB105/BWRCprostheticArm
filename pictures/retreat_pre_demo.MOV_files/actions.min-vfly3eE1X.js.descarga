define(["require","exports","tslib","modules/clean/react/comments2/store/api","modules/clean/api_v2/error","modules/clean/react/file_sidebar/store/sidebar/types","modules/clean/react/file_sidebar/store/sidebar/actions","modules/clean/react/file_sidebar/store/instance","modules/clean/react/comments2/store/types","modules/clean/react/comments2/bolt_client/comments2_bolt_client"],function(e,t,n,r,o,a,c,i,u,s){"use strict";function d(){return{type:u.ActionType.ListCommentsRequest,payload:{}}}function l(){return{type:u.ActionType.ListCommentsError,payload:{}}}function p(e){return{type:u.ActionType.ListCommentsSuccess,payload:{threads:e}}}function m(){return{type:u.ActionType.AddCommentRequest,payload:{}}}function y(){return{type:u.ActionType.AddCommentError,payload:{}}}function f(e){return{type:u.ActionType.AddCommentSuccess,payload:{thread:e}}}function h(){return{type:u.ActionType.EditCommentRequest,payload:{}}}function A(){return{type:u.ActionType.EditCommentError,payload:{}}}function T(e){return{type:u.ActionType.EditCommentSuccess,payload:{thread:e}}}function C(e){return{type:u.ActionType.ActivateThread,payload:{thread:e}}}function k(){return{type:u.ActionType.MarkThreadReadRequest,payload:{}}}function R(){return{type:u.ActionType.MarkThreadReadError,payload:{}}}function v(e){return{type:u.ActionType.MarkThreadReadSuccess,payload:{threadGid:e}}}function S(){return{type:u.ActionType.MarkThreadUnreadRequest,payload:{}}}function b(){return{type:u.ActionType.MarkThreadUnreadError,payload:{}}}function E(e){return{type:u.ActionType.MarkThreadUnreadSuccess,payload:{threadGid:e}}}function g(){return{type:u.ActionType.MarkThreadResolvedRequest,payload:{}}}function U(){return{type:u.ActionType.MarkThreadResolvedError,payload:{}}}function _(e){return{type:u.ActionType.MarkThreadResolvedSuccess,payload:{threadGid:e}}}function q(){return{type:u.ActionType.MarkThreadUnresolvedRequest,payload:{}}}function M(){return{type:u.ActionType.MarkThreadUnresolvedError,payload:{}}}function F(e){return{type:u.ActionType.MarkThreadUnresolvedSuccess,payload:{threadGid:e}}}function I(){return{type:u.ActionType.ToggleShowResolved,payload:{}}}function O(){return{type:u.ActionType.DeleteCommentRequest,payload:{}}}function w(){return{type:u.ActionType.DeleteCommentError,payload:{}}}function B(e){return{type:u.ActionType.DeleteCommentSuccess,payload:{thread:e}}}function D(e){return{type:u.ActionType.UpdatePlayerCurrentTime,payload:{currentTime:e}}}function L(){return{type:u.ActionType.CheckOnboardingStatusRequest,payload:{}}}function P(){return{type:u.ActionType.CheckOnboardingStatusError,payload:{}}}function G(e){return{type:u.ActionType.CheckOnboardingStatusSuccess,payload:{onboardingResult:e}}}function H(e){return{type:u.ActionType.MarkHasOnboardedFireAndForget,payload:{type:e}}}function x(e,t){return V(e,t,function(n,r,o){new te(e,t,n).startLiveUpdate(t.id,o)})}function z(e){return{type:u.ActionType.InitializeMentionsContacts,payload:{user:e}}}function j(e,t){return{type:u.ActionType.MentionsMatchesUpdate,payload:{query:e,matchingContacts:t}}}function V(e,t,u){var s=this;return function(m){return n.__awaiter(s,void 0,void 0,function(){var s,y,f,h,A,T;return n.__generator(this,function(n){switch(n.label){case 0:m(d()),s=new r.Comments2Api(e.id),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,s.listComments(t)];case 2:return y=n.sent(),f=y.threads,h=y.bolt_info,m(p(f)),i.store.dispatch(c.setComments2FetchStatus({status:a.PermissionStatus.RECEIVED})),h&&u(m,t.id,h),[3,4];case 3:return A=n.sent(),A instanceof o.ApiError&&(T=A,T.error&&"file_not_found"===T.error[".tag"]&&i.store.dispatch(c.setComments2FetchStatus({status:a.PermissionStatus.DISABLED}))),m(l()),[3,4];case 4:return[2]}})})}}function J(e,t,n,r){return ee({userId:e.id,startAction:m,clientFn:function(e){return e.addComment(t,n,r)},successAction:function(e){return f(e.thread)},errorAction:function(e){return y()}})}function K(e,t,n){return ee({userId:e.id,startAction:O,clientFn:function(e){return e.deleteComment(t,n)},successAction:function(e){return B(e.thread)},errorAction:function(e){return w()}})}function N(e,t,n,r){return ee({userId:e.id,startAction:h,clientFn:function(e){return e.editComment(t,n,r)},successAction:function(e){return T(e.thread)},errorAction:function(e){return A()}})}function Q(e,t,n){return ee({userId:e.id,startAction:k,clientFn:function(e){return e.markThreadRead(t,n)},successAction:function(e){return v(e.gid)},errorAction:function(e){return R()}})}function W(e,t,n){return ee({userId:e.id,startAction:S,clientFn:function(e){return e.markThreadUnread(t,n)},successAction:function(e){return E(e.gid)},errorAction:function(e){return b()}})}function X(e,t,n){return ee({userId:e.id,startAction:g,clientFn:function(e){return e.markThreadResolved(t,n)},successAction:function(e){return _(e.gid)},errorAction:function(e){return U()}})}function Y(e,t,n){return ee({userId:e.id,startAction:q,clientFn:function(e){return e.markThreadUnresolved(t,n)},successAction:function(e){return F(e.gid)},errorAction:function(e){return M()}})}function Z(e){return ee({userId:e,startAction:L,clientFn:function(e){return e.checkOnboardingStatus()},successAction:function(e){return G(e)},errorAction:function(e){return P()}})}function $(e,t){return ee({userId:e,startAction:function(){return H(t)},clientFn:function(e){return e.markHasOnboarded(t)},successAction:null,errorAction:null})}function ee(e){var t=this;return function(o){return n.__awaiter(t,void 0,void 0,function(){var t,a,c;return n.__generator(this,function(n){switch(n.label){case 0:o(e.startAction()),t=new r.Comments2Api(e.userId),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.clientFn(t)];case 2:return a=n.sent(),e.successAction&&o(e.successAction(a)),[3,4];case 3:return c=n.sent(),e.errorAction&&o(e.errorAction(c)),[3,4];case 4:return[2]}})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.listCommentsRequest=d,t.listCommentsError=l,t.listCommentsSuccess=p,t.addCommentRequest=m,t.addCommentError=y,t.addCommentSuccess=f,t.editCommentRequest=h,t.editCommentError=A,t.editCommentSuccess=T,t.activateThread=C,t.markThreadReadRequest=k,t.markThreadReadError=R,t.markThreadReadSuccess=v,t.markThreadUnreadRequest=S,t.markThreadUnreadError=b,t.markThreadUnreadSuccess=E,t.markThreadResolvedRequest=g,t.markThreadResolvedError=U,t.markThreadResolvedSuccess=_,t.markThreadUnresolvedRequest=q,t.markThreadUnresolvedError=M,t.markThreadUnresolvedSuccess=F,t.toggleShowResolved=I,t.deleteCommentRequest=O,t.deleteCommentError=w,t.deleteCommentSuccess=B,t.updatePlayerCurrentTime=D,t.checkOnboardingStatusRequest=L,t.checkOnboardingStatusError=P,t.checkOnboardingStatusSuccess=G,t.markHasOnboardedFireAndForget=H,t.listComments=x,t.initializeMentionsContacts=z,t.mentionsMatchesUpdate=j,t.addComment=J,t.deleteComment=K,t.editComment=N,t.markThreadRead=Q,t.markThreadUnread=W,t.markThreadResolved=X,t.markThreadUnresolved=Y,t.checkOnboardingStatus=Z,t.markHasOnboarded=$;var te=(function(e){function t(t,n,r){var o=e.call(this)||this;return o.user=t,o.stream=n,o.dispatch=r,o.onBoltRefresh=function(){o.dispatch(V(o.user,o.stream,function(e,t,n){o.resetLiveUpdate(t,n)}))},o}return n.__extends(t,e),t.prototype.onBoltUpdateImpl=function(){var e=this;this.dispatch(V(this.user,this.stream,function(t,n,r){e.updateBoltState(n,r)}))},t})(s.BaseComments2BoltClient);t.ActionsComments2BoltClient=te});
//# sourceMappingURL=actions.min.js-vfl5Bi7xJ.map