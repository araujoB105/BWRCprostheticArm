define(["require","exports","modules/clean/bolt","modules/core/exception"],function(t,e,i,n){"use strict";function o(t,e){return new i.SignedChannelState("comments2",t,e.revision,e.token)}Object.defineProperty(e,"__esModule",{value:!0});var s;(function(t){function e(t,e,n){return new i.BoltClient([t],e,n)}t.create=e})(s=e.BoltClientUtil||(e.BoltClientUtil={}));var l=(function(){function t(){var t=this;this.updateBoltState=function(e,i){if(void 0===t.boltClient)return void n.assert(!1,"Client already shut down");if(t.isLive){var s=o(e,i);t.boltClient.update_states([s])}},this.resetLiveUpdate=function(e,i){t.isLive&&(t.stopLiveUpdate(),t.startLiveUpdate(e,i))},this.onBoltUpdate=function(e){e&&1===e.length&&t.onBoltUpdateImpl()},this.onBoltRefresh=function(){},this.isLive=!1}return t.unsubscribeActiveClient=function(){this.activeClient&&this.activeClient.stopLiveUpdate()},t.prototype.startLiveUpdate=function(t,e){n.assert(!this.isLive,"Client already live updating"),this.doStartLiveUpdate(t,e),this.isLive=!0},t.prototype.stopLiveUpdate=function(){this.isLive=!1,this.boltClient&&(this.boltClient.unsubscribe(),this.boltClient=void 0,t.activeClient=void 0)},t.prototype.doStartLiveUpdate=function(e,i){var n=o(e,i);this.boltClient=s.create(n,this.onBoltUpdate,this.onBoltRefresh),this.boltClient.start(),t.activeClient=this},t})();e.BaseComments2BoltClient=l});
//# sourceMappingURL=comments2_bolt_client.min.js-vflndQwXW.map