define("modules/clean/file_collector/drops_management_controller",["require","exports","tslib","external/react","external/prop-types","modules/clean/ajax","modules/clean/file_collector/drops_management_ui","modules/clean/file_collector/error_strings","modules/clean/file_collector/file_collector","modules/clean/file_collector/logger","modules/clean/history","modules/clean/react/modal","modules/clean/react/professional_file_request_landing_page","modules/clean/undo","modules/clean/viewer","modules/clean/web_timing_logger","modules/core/browser","modules/core/i18n","modules/core/notify","modules/clean/react/snackbar","jquery"],function(e,t,r,o,n,s,a,i,l,c,u,d,p,m,f,h,_,b,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=o.createElement,E=b.i18n_default_project("file-requests")._,N=(function(t){function b(r){var n=t.call(this,r)||this;if(n.refreshInterface=function(){return n._reloadDrops(n.state.selectedTab)},n.onClickInterested=function(){var e=n.props.expProfessionalFileRequestVariant;n._showProfessionalNotificationModal(e),n.setState({hideBackdrop:!0}),c.log("premium_fr_expt_interested_clicked")},n.onClickNotInterested=function(){n.setState({hideBackdrop:!0}),v.Snackbar.show(o.createElement("div",{className:"professional_file_request_snackbar_container"},o.createElement(v.Snackbar,{title:"Thanks for your feedback. You can use the basic file requests experience above.",variant:"generic",closeButtonText:"Close",timeoutDelayMs:5e3}))),c.log("premium_fr_expt_not_interested_clicked")},n.onCreateNewClicked=function(){return c.log("management_page-create_new_button-click"),n._beforeShowCreateModal()},n.onEditClicked=function(e){return n._showEditModal(e)},n.onSendClicked=function(e){return n._showSendModal(e)},n.onReopen=function(t){return e(["modules/clean/file_collector/drops_title_and_destination_modal"],function(e){return d.Modal.showInstance(y(e.DropsTitleAndDestinationModal,{mode:"REOPEN",existingCollector:t,onAccept:n.sendReopenRequest,onSetDisabled:n.onSetDisabled,pathErrorMessage:null==t.path,allowedUserIds:n.props.allowedUserIds,viewer:f.Viewer.get_viewer(),enableUploadsByEmail:n.props.enableUploadsByEmail}))})},n.onSetDisabled=function(e,t,r){return n._setShouldBeEnabled({user_id:e.user_id,token:e.token,should_be_enabled:!t,show_undo:!0,onSuccess:r})},n.onTabSwitched=function(e){return n.setState({collectors:[],isLoading:!0}),n._reloadDrops(e)},n._beforeShowCreateModal=function(){var t,r=(function(){for(var e=[],r=0,o=Array.from(f.Viewer.get_viewer().get_users());r<o.length;r++)t=o[r],Array.from(n.props.allowedUserIds).includes(t.id)&&e.push(t);return e})(),o=(function(){for(var e=[],o=0,n=Array.from(r);o<n.length;o++)t=n[o],t.is_email_verified&&e.push(t);return e})();return e(["modules/clean/account/email","modules/clean/account/email_verify_reasons"],function(e,s){var a=e.EmailVerification;if(o.length)return n._showCreateModal();var i=(function(){for(var e=[],o=0,n=Array.from(r);o<n.length;o++)t=n[o],t.is_email_verified||e.push(t);return e})()[0];return a.get_for_user(i).show(n._showCreateModal,s.CREATE_FILE_COLLECTOR)})},n._showProfessionalNotificationModal=function(t){return e(["modules/clean/react/professional_file_request_notification_modal"],function(e){var r=e.ProfessionalFileRequestNotificationModal;return d.Modal.showInstance(o.createElement(r,{variant:t}))})},n._showCreateModal=function(){return c.log("management_page-create_modal-view"),e(["modules/clean/file_collector/drops_title_and_destination_modal"],function(e){return d.Modal.showInstance(y(e.DropsTitleAndDestinationModal,{mode:"CREATE",onAccept:n.sendCreateRequest,allowedUserIds:n.props.allowedUserIds,viewer:f.Viewer.get_viewer(),enableUploadsByEmail:n.props.enableUploadsByEmail}))})},n._showEditModal=function(t){return e(["modules/clean/file_collector/drops_title_and_destination_modal"],function(e){return d.Modal.showInstance(y(e.DropsTitleAndDestinationModal,{mode:"EDIT",existingCollector:t,onAccept:n.sendEditRequest,onSetDisabled:n.onSetDisabled,allowedUserIds:n.props.allowedUserIds,viewer:f.Viewer.get_viewer(),enableUploadsByEmail:n.props.enableUploadsByEmail}))})},n._showSendModal=function(t){return c.log("management_page-send_modal-view"),e(["modules/clean/file_collector/drops_send_modal"],function(e){return d.Modal.showInstance(y(e,{collector:t,enableUploadsByEmail:n.props.enableUploadsByEmail}))})},n._addDrop=function(e){var t=n.state.collectors;return t.push(e),n.setState({collectors:t,hasCreatedDrop:!0})},n._removeDrop=function(e){var t=n.state.collectors;return t=t.filter(function(t){return t.token!==e}),n.setState({collectors:t})},n._handleReloadDropsSuccess=function(e){return n.state.hasLoggedRequiredApplicationDataForTTIFetchDone||h.log_js_modules_fetched_data_required_for_tti(),n.setState({hasLoggedRequiredApplicationDataForTTIFetchDone:!0,collectors:Array.from(e.file_collectors).map(function(e){return new l.FileCollector(e)}),autocloseCount:null!=e.automatically_disabled?e.automatically_disabled:0,isLoading:!1})},n._reloadDrops=function(e){void 0===e&&(e="active"),n.setState({selectedTab:e});var t={get_enabled:"active"===e};return n.props.activeUid&&(t.active_uid=n.props.activeUid),s.WebRequest({url:"/drops/get",type:"GET",dataType:"json",data:t,success:n._handleReloadDropsSuccess,error:n._onError})},n._requestErrorMessage=function(e){var t=e.error_message,r=e.collector_error;return null!=t?g.Notify.error(t):null!=r&&r in i.EDIT_ERROR_STRING?g.Notify.error(i.EDIT_ERROR_STRING[r]):g.Notify.error(E("We were unable to complete your request."))},n._onError=function(e,t){if("abort"!==t)return n._requestErrorMessage({})},n.sendCreateRequest=function(e,t,r,o){return s.WebRequest({url:"/drops/create",type:"POST",dataType:"json",data:t,subject_user:e.id,success:function(e){if(null!=e.file_collector){d.Modal.close();var t=new l.FileCollector(e.file_collector);return n._showSendModal(t),n._addDrop(t),c.log("management_page-create_modal-create_button-success"),"function"==typeof r?r():void 0}return n._requestErrorMessage(e),"function"==typeof o?o():void 0},error:n._onError})},n.sendEditRequest=function(e,t,r,o){return s.WebRequest({url:"/drops/edit",type:"POST",dataType:"json",data:t,subject_user:e.id,success:function(e){return null!=e.file_collector?(d.Modal.close(),n._reloadDrops("active"),g.Notify.success(E("Successfully edited your file request!")),"function"==typeof r?r():void 0):(n._requestErrorMessage(e),"function"==typeof o?o():void 0)},error:n._onError})},n.sendReopenRequest=function(e,t,r,o){return s.WebRequest({url:"/drops/edit",type:"POST",dataType:"json",data:t,subject_user:e.id,success:function(e){return null!=e.file_collector?(d.Modal.close(),n._removeDrop(e.file_collector.token),g.Notify.success(E("Your file request is now open.")),"function"==typeof r?r():void 0):(n._requestErrorMessage(e),"function"==typeof o?o():void 0)},error:n._onError})},n._setShouldBeEnabled=function(e){e.show_undo||g.Notify.clear();var t={token:e.token,should_be_enabled:e.should_be_enabled};return s.WebRequest({url:"/drops/set_is_enabled",type:"POST",dataType:"json",data:t,subject_user:e.user_id,success:function(t){var r;r=E(e.should_be_enabled?"Your file request is now open.":"Your file request is now closed."),e.should_be_enabled===("active"===n.state.selectedTab)?n._addDrop(new l.FileCollector(t.file_collector)):n._removeDrop(e.token);if(e.show_undo){var o={user_id:e.user_id,token:e.token,should_be_enabled:!e.should_be_enabled,show_undo:!1};m.notifyWithUndo(r,o,n._setShouldBeEnabled,5)}else g.Notify.success(r);return"function"==typeof e.onSuccess?e.onSuccess():void 0},error:function(e){return g.Notify.error(E("We were unable to complete your request."))}})},null!=window.__REGISTER_DROPS_PRELOAD_HANDLER){var a=window.__REGISTER_DROPS_PRELOAD_HANDLER.getDataIfAvailable();if(null!=(null!=a?a.payload:void 0)){var u=void 0;try{u=JSON.parse(a.payload)}catch(e){}if(u)return h.log_js_modules_fetched_data_required_for_tti(),n.state={collectors:Array.from(u.file_collectors).map(function(e){return new l.FileCollector(e)}),selectedTab:"active",autocloseCount:null!=u.automatically_disabled?u.automatically_disabled:0,isLoading:!1,hasCreatedDrop:r["has-created-drop"],hasLoggedRequiredApplicationDataForTTIFetchDone:!0},n}}return n.state={collectors:[],selectedTab:"active",autocloseCount:0,isLoading:r["has-created-drop"],hasCreatedDrop:r["has-created-drop"],hasLoggedRequiredApplicationDataForTTIFetchDone:!r["has-created-drop"]},n}return r.__extends(b,t),b.prototype.componentWillMount=function(){return h.log_js_modules_application_code_start(),h.waitForTTI().then(function(){return e(["modules/clean/react/overquota_modal","modules/clean/file_collector/drops_title_and_destination_modal","modules/clean/file_collector/drops_send_modal"])})},b.prototype.componentDidMount=function(){var e=this;return"create"in _.get_uri().getQuery()&&("function"==typeof window.history.pushState&&window.history.pushState(null,null,"requests"),this._beforeShowCreateModal()),this.state.hasCreatedDrop&&this.state.isLoading&&(null!=window.__REGISTER_DROPS_PRELOAD_HANDLER?window.__REGISTER_DROPS_PRELOAD_HANDLER(function(t){try{var r=JSON.parse(t);return e._handleReloadDropsSuccess(r)}catch(t){return e._onError(t)}},this._onError):this._reloadDrops(this.state.selectedTab)),this.state.hasCreatedDrop||(h.log_js_modules_fetched_data_required_for_tti(),c.log("management_page-view-nux")),c.log("management_page-view"),this.refreshInterval=setInterval(this.refreshInterface,3e5),u.remove_query_param("role")},b.prototype.componentWillUnmount=function(){return clearInterval(this.refreshInterval)},b.prototype.shouldShowProfessionalFileRequestExperiment=function(){var e=this.props.expProfessionalFileRequestVariant;return["V1","V2"].indexOf(e)!==-1&&!this.props.expDismissedProfessionalFileRequest},b.prototype.render=function(){if(this.shouldShowProfessionalFileRequestExperiment()&&!this.state.hideBackdrop){var e=this.props.expProfessionalFileRequestVariant;return o.createElement(p.ProfessionalFileRequestLandingPage,{variant:e,onClickInterested:this.onClickInterested,onClickNotInterested:this.onClickNotInterested})}return o.createElement(a,{collectors:this.state.collectors,hasCreatedDrop:this.state.hasCreatedDrop,isLoading:this.state.isLoading,hasReachedTTI:!this.state.hasCreatedDrop||!this.state.isLoading||0!==this.state.collectors.length,onCreateNew:this.onCreateNewClicked,onEditClicked:this.onEditClicked,onSendClicked:this.onSendClicked,onReopen:this.onReopen,onTabSwitched:this.onTabSwitched,selectedTab:this.state.selectedTab,autocloseCount:this.state.autocloseCount,userOverQuota:this.props.userOverQuota,viewer:f.Viewer.get_viewer(),activeUid:this.props.activeUid,searchBarExperiments:this.props.searchBarExperiments})},b.displayName="DropsManagementController",b.propTypes={"has-created-drop":n.bool,userOverQuota:n.objectOf(n.bool),allowedUserIds:n.arrayOf(n.number),enableUploadsByEmail:n.bool,activeUid:n.number,expProfessionalFileRequestVariant:n.string,expDismissedProfessionalFileRequest:n.bool,searchBarExperiments:n.object.isRequired},b})(o.Component);t.DropsManagementController=N}),define("modules/clean/file_collector/drops_management_ui",["require","exports","tslib","external/classnames","external/create-react-class","external/react","external/react-dom-factories","external/prop-types","spectrum/vertically_fixed","external/lodash","modules/clean/browse_interface","modules/clean/file_collector/file_collector","modules/clean/file_collector/list_item","modules/clean/pagelet_logger","modules/clean/react/app_actions_view","modules/clean/react/button","modules/clean/react/columnheader","modules/clean/react/css","modules/clean/react/image","modules/clean/react/maestro/header","modules/clean/react/maestro/layout","modules/clean/react/maestro/tab_nav","modules/clean/react/tabs/tab_util","modules/clean/sharing/share_page/views/tab_states","modules/clean/static_urls","modules/clean/viewer","modules/constants/rebrand","modules/clean/web_timing_logger","modules/core/i18n","external/purify"],function(e,t,r,o,n,s,a,i,l,c,u,d,p,m,f,h,_,b,g,v,y,E,N,S,w,C,T,D,I){"use strict";var R=s.createElement,x=I.i18n_default_project("file-requests"),q=x._,k=x.ungettext,O=n({displayName:"DropsManagementUI",pageletLogger:new m.PageletLogger("dropsManagement",["DropsManagementUI"]),propTypes:{hasReachedTTI:i.bool,activeUid:i.number,collectors:i.arrayOf(i.instanceOf(d.FileCollector)).isRequired,hasCreatedDrop:i.bool,isLoading:i.bool,onCreateNew:i.func.isRequired,onEditClicked:i.func.isRequired,onSendClicked:i.func.isRequired,onReopen:i.func.isRequired,onTabSwitched:i.func.isRequired,selectedTab:i.oneOf(["active","inactive"]).isRequired,initialTab:i.string,autocloseCount:i.number,userOverQuota:i.objectOf(i.bool),viewer:i.instanceOf(C.Viewer),searchBarExperiments:i.object.isRequired},checkTTI:function(){if(this.props.hasReachedTTI)return this.pageletLogger.componentReady(this.constructor.displayName)},componentDidMount:function(){return D.waitForTTI().then(function(){e(["modules/clean/growth/experiments/overquota_helper"],function(e){e.OverquotaHelper.maybeShowSubgrowthProOQRecurringModal("wb_oq_ups_recur_fb")})}),this.checkTTI()},componentDidUpdate:function(){return this.checkTTI()},getUser:function(){return this.props.viewer.get_user_by_id(this.props.activeUid)},onTabSelected:function(e){return this.props.onTabSwitched(e)},getFolderUrl:function(e){if(null!=e.path){var t=this.props.viewer.get_user_by_id(e.user_id,!0);return u.browse_uri_for_fq_path(t,e.path).toString()}return null},renderOverQuotaBanner:function(){if(!c.some(c.values(this.props.userOverQuota)))return null;var e=this.props.viewer.team_name;return a.div({className:"management-page--disabled-message"},this.props.viewer.is_paired?this.props.userOverQuota.personal?this.props.userOverQuota.work?[q("Both your personal Dropbox and your %(team_name)s Dropbox are full. Your file requests won’t be able to receive files.").format({team_name:e})," ",a.a({href:"/business?oqa=fr"},q("Get more space",{comment:"This is preceded by a message about your Dropbox being out of space."})),"."]:[q("Your personal Dropbox is full. Your file requests for folders in that Dropbox won’t be able to receive files.")," ",a.a({href:"/upgrade?oqa=fr"},q("Get more space",{comment:"This is preceded by a message about your Dropbox being out of space."})),"."]:[q("Your %(team_name)s Dropbox is full. Your file requests for folders in that Dropbox won’t be able to receive files.").format({team_name:e})," ",a.a({href:"/business?oqa=fr"},q("Get more space",{comment:"This is preceded by a message about your Dropbox being out of space."})),"."]:this.props.userOverQuota.work?[q("Your %(team_name)s Dropbox is full. Your file requests won’t be able to receive files.").format({team_name:e})," ",a.a({href:"/business?oqa=fr"},q("Get more space",{comment:"This is preceded by a message about your Dropbox being out of space."})),"."]:[q("Your Dropbox is full. Your file requests won’t be able to receive files.")," ",a.a({href:"/upgrade?oqa=fr"},q("Get more space",{comment:"This is preceded by a message about your Dropbox being out of space."})),"."])},renderRequestFilesButton:function(){return a.button({className:o({"drops-grid-item":!0,"drops-grid-create-new-item":!0}),onClick:this.props.onCreateNew},a.div({className:"drops-create-new-button"},R(g.Image,{src:w.static_url("/static/images/file_collector/plus_sign-vflevShnZ.png"),srcHiRes:w.static_url("/static/images/file_collector/plus_sign@2x-vfl0aCzTT.png")})),a.div({className:"drops-create-new-text"},q("Request files")))},renderHelpLink:function(){return R(l.VerticallyFixed,{tagName:"a",className:"help-center-link",href:"/help/9090"},a.a({href:"https://www.dropbox.com/help/9090"},q("What are file requests?")))},renderTabHeaders:function(){return a.div({className:"drops-management-page__tabs-header"},R(E.TabNav,{tabs:[{value:"active",label:q("Open requests")},{value:"inactive",label:q("Closed requests")}],onChange:this.onTabSelected,variant:N.TabVariant.UNDERLINE}),this.renderHelpLink())},renderTabContent:function(e){var t=this;return a.div({className:o({"drops-management-page__tab-content":!0,"drops-management-page__tab-content--overquota":e})},"inactive"===this.props.selectedTab&&this.props.autocloseCount>0?a.div({},a.div({className:"management-page--disabled-message"},k("A file request was closed because the folder was deleted or you no longer have permission to edit the request folder. To reopen it, click ‘reopen’ and choose a new folder.","%(num)s file requests were closed because the folders were deleted or you no longer have permission to edit the request folders. To reopen them, click ‘Reopen’ and choose a new folder.",this.props.autocloseCount).format({num:this.props.autocloseCount})),R(_.ColumnHeader,{className:"u-trim-margin u-trim-padding",columns:[{label:q("Requests"),type:_.ColumnTypes.STATIC}]})):void 0,a.div({className:"drops-management-grid-view"},this.props.isLoading?a.div({className:"u-font-center"},a.div({className:"u-mar-top-xl c-loader c-loader--spinner--blue"},q("Loading…"))):"active"===this.props.selectedTab&&0===this.props.collectors.length?R(S.EmptyView,{descriptionText:q("No open file requests."),headerText:null}):a.div({},"inactive"!==this.props.selectedTab||this.props.collectors.length?void 0:a.div({className:"drops-management-inactive-empty"},a.div({className:"drops-management-inactive-empty-header"},q("You don’t have any closed file requests")),a.div({className:"drops-management-inactive-empty-subheader"},q("To close a request, click ‘Edit’ on your request and choose ‘Close’."))),Array.from(this.props.collectors.sort(function(e,t){return t.created_ts-e.created_ts})).map(function(e){return R(p,{key:e.token,collector:e,onEdit:t.props.onEditClicked,onSend:t.props.onSendClicked,onReopen:t.props.onReopen,folderUrl:t.getFolderUrl(e)})}))))},_renderMaestroActionMenu:function(){if(this.props.hasCreatedDrop)return R(f.AppActionsView,{primaryMenuItem:{displayName:q("Request files"),handleClick:this.props.onCreateNew}})},_renderMaestroAppBody:function(){return this.props.hasCreatedDrop?a.div({className:"drops-management-page"},this.renderTabHeaders(),this.renderTabContent()):R(M,{onCreateClicked:this.props.onCreateNew,viewer:this.props.viewer})},render:function(){var e=this.props.viewer,t=this.getUser();return R(y.MaestroChrome,{user:t,viewer:e,titleRegion:R(v.MaestroHeaderTitle,null,q("File requests")),embeddedAppRegion:this._renderMaestroAppBody(),actionSidebarRegion:this._renderMaestroActionMenu(),searchBarProps:{searchBarExperiments:this.props.searchBarExperiments}})}}),M=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e,t,r,o=q("Introducing file requests");this.props.viewer.team_id?(r=q("Invite partners, clients, contractors, or vendors to upload files to your Dropbox, even if they don’t have an account."),t=q("What kind of files can I request?"),e=q("You can collect invoices, design assets, video footage, resumes, presentation slides, and many other things with file requests.")):(r=q("Invite anyone to upload files to your Dropbox, even if they don’t have an account."),t=q("What kinds of things can I request?"),e=q("Homework assignments, presentation slides, contest submissions, vacation photos, and family recipes are just some of the many things you can collect with file requests."));var n=q("Who can see the files I request?"),s=q("Only you can see the files you request, unless you decide to share them."),i=q("Where will the files go?"),l=q("We’ll create a folder for each request or you can choose one that’s already in your Dropbox.");return a.div({className:"drops-empty-page"},a.div({className:"drops-empty-page-header clearfix"},a.div({className:"drops-empty-page-header-image"},T.REBRAND_M1_IS_ON?R(g.Image,{src:w.static_url("/static/images/file_collector/file-requests-illo-vflMmolaZ.png"),srcHiRes:w.static_url("/static/images/file_collector/file-requests-illo@2x-vfliRlmYl.png")}):R(g.Image,{src:w.static_url("/static/images/file_collector/ice-vflFIj_uo.png"),srcHiRes:w.static_url("/static/images/file_collector/ice@2x-vflbgaYW5.png")})),a.div({className:"drops-empty-page-header-text"},a.div({className:"drops-empty-page-header-h1",dangerouslySetInnerHTML:{__html:o}}),a.div({className:"drops-empty-page-header-h2",dangerouslySetInnerHTML:{__html:r}}),a.div({className:"drops-empty-page-cta"},R(h.button,{importance:"primary",onClick:this.props.onCreateClicked},q("Create a file request"))))),a.div({className:"drops-empty-page-3pane"},a.div({className:"grid"},a.div({className:"grid__col grid__col--1-of-3"},a.div({className:"pane-title",dangerouslySetInnerHTML:{__html:t}}),a.div({className:"pane-text",dangerouslySetInnerHTML:{__html:e}})),a.div({className:"grid__col grid__col--1-of-3"},a.div({className:"pane-title",dangerouslySetInnerHTML:{__html:n}}),a.div({className:"pane-text",dangerouslySetInnerHTML:{__html:s}})),a.div({className:"grid__col grid__col--1-of-3"},a.div({className:"pane-title",dangerouslySetInnerHTML:{__html:i}}),a.div({className:"pane-text",dangerouslySetInnerHTML:{__html:l}})))))},t.displayName="DropsEmptyPage",t.propTypes={onCreateClicked:i.func.isRequired,viewer:i.instanceOf(C.Viewer)},t})(s.Component);return b(O,["/static/css/scooter/scooter-scoped-vflhQ6850.css","/static/css/sharing/maestro-components-vflPs63AA.css","/static/css/sharing/maestro-layout-vflvEmc2B.css"],[E.TabNav])}),define("modules/clean/file_collector/error_strings",["require","exports","modules/core/i18n"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r.i18n_default_project("file-requests")._,n={NO_ERROR:0,DEST_DELETED:10,DEST_NOT_DIR:20,TEAM_POLICY_OFF:30,GANDALF:40,NO_FILE_OBJ:50,NO_NS:60,NO_NS_PERMISSION:70,NO_OWNER:80,NS_UNMOUNTED:90,PUBLINKS_BANNED:100,SFJ_PURGED:110,OVER_QUOTA:120,DISABLED:130,NOT_EMAIL_VERIFIED:140,HARD_DEADLINE_EXPIRED:150,DEST_HOME_OR_ROOT:160};t.COLLECTOR_ERROR=n;var s={NO_SHARED_LINK_FILE_ACCESS:500};t.SUBMITTER_ERROR=s;var a=o("The destination folder has been deleted. Please choose another one."),i={};t.EDIT_ERROR_STRING=i,i[n.DEST_DELETED]=a,i[n.DEST_NOT_DIR]=o("The destination must be a folder. Please chooose another destination."),i[n.TEAM_POLICY_OFF]=o("Your account administrator has removed access to this feature."),i[n.GANDALF]=o("You’e lost access to this feature."),i[n.NO_FILE_OBJ]=a,i[n.NO_NS]=a,i[n.NO_NS_PERMISSION]=o("You don’t have permission to add files to that folder. Please choose another destination."),i[n.NO_OWNER]=o("You can’t edit or create file requests because your account has been disabled."),i[n.NS_UNMOUNTED]=a,i[n.PUBLINKS_BANNED]=o("You’e lost access to this feature."),i[n.SFJ_PURGED]=a,i[n.OVER_QUOTA]=o("You can’t edit or create file requests while you’re over quota"),i[n.OVER_QUOTA]=null;var l={};t.SUBMIT_ERROR_STRING=l,l[s.NO_SHARED_LINK_FILE_ACCESS]=o("Some files you selected aren’t accessible anymore. Please reload this page and try again.")}),define("modules/clean/file_collector/file_collector",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(e){for(var t=0,r=Object.keys(e||{});t<r.length;t++){var o=r[t];"string"==typeof o&&(this[o]=e[o])}}return e})();t.FileCollector=r}),define("modules/clean/file_collector/list_item",["require","exports","tslib","external/react","external/react-dom-factories","external/prop-types","modules/clean/em_string","modules/clean/file_collector/file_collector","modules/clean/file_collector/util","modules/clean/react/bubble_menu","modules/clean/sharing/share_page/views/row_actions","modules/constants/python","modules/core/i18n","modules/core/notify","external/classnames","jquery","modules/clean/static_urls"],function(e,t,r,o,n,s,a,i,l,c,u,d,p,m){"use strict";var f=o.createElement,h=p.i18n_default_project("file-requests"),_=h._,b=h.ungettext;return(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isHovered:!1},t.redirectToFolder=function(e){if(null==t.props.collector.path)return m.Notify.error(_("The folder for this file request was deleted or you no longer have permission to edit it. Please click ‘Reopen’ and choose a new folder.")),e.preventDefault()},t.handleMouseEnter=function(){return t.setState({isHovered:!0})},t.handleMouseLeave=function(){return t.setState({isHovered:!1})},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.collector.soft_deadline_ts,r=new Date(1e3*t),o=Number(r)-Date.now(),s=!!this.props.collector.enabled&&t!==d.FILE_REQUEST_NO_DEADLINE&&o>0;return n.div({className:"drops-list-item mu-pad-2x o-flag",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},n.a({className:"drops-list-item__link mu-height-5x o-flag__flex",href:this.props.folderUrl,onClick:this.redirectToFolder},n.div({},n.span({className:"drops-list-item__title u-l-b mu-lh-3x"},a.Emstring.em_snippet(this.props.collector.title,38)),n.span({className:"drops-list-item__description mu-lh-2x"},s?n.span({},l.getTimeUntilDeadlineString(o),n.span({className:"u-l-ib mu-mar-horizontal-1x"},"•")):void 0,n.span({},b("%(num)s submission","%(num)s submissions",this.props.collector.num_files_submitted).format({num:this.props.collector.num_files_submitted}))))),n.div({className:"drops-list-item__actions mu-pad-left-9x o-flag__fix"},f(u.RowActions,{importance:"tertiary",rowIsHovered:this.state.isHovered,overflowActions:this.props.collector.enabled?[f(c.BubbleMenuItem,{key:"unused_key1",onClick:function(){return e.props.onEdit(e.props.collector)}},n.span({className:"drops-list-item__action"},_("Edit"))),f(c.BubbleMenuItem,{key:"unused_key2",onClick:function(){return e.props.onSend(e.props.collector)}},n.span({className:"drops-list-item__action"},_("Add people")))]:[f(c.BubbleMenuItem,{key:"unused_key3",onClick:function(){return e.props.onReopen(e.props.collector)}},n.span({className:"drops-list-item__action"},_("Reopen")))]})))},t.displayName="FileRequestListItem",t.propTypes={collector:s.instanceOf(i.FileCollector).isRequired,onEdit:s.func,onSend:s.func,onReopen:s.func,folderUrl:s.string},t})(o.Component)}),define("modules/clean/file_collector/logger",["require","exports","modules/clean/ajax","modules/core/browser"],function(e,t,r,o){"use strict";return(function(){function e(){}return e.log=function(e,t,n){t=t||{};var s=o.get_uri().getQuery().ref;return null!=s&&null==t.ref&&(t.ref=s),r.WebRequest({url:"/drops/log_file_collector_event",data:{event_name:e,extra:JSON.stringify(t)}})},e})()}),define("modules/clean/file_collector/util",["require","exports","modules/core/i18n"],function(e,t,r){"use strict";function o(e){var t=e/6e4,r=t/60;if(t<1)return s("Deadline in 1 minute");if(t<120){var o=Math.floor(t);return a("Deadline in %(num)s minute","Deadline in %(num)s minutes",o).format({num:o})}if(r<48){var n=Math.floor(r);return a("Deadline in %(num)s hour","Deadline in %(num)s hours",n).format({num:n})}var i=Math.floor(r/24);return a("Deadline in %(num)s day","Deadline in %(num)s days",i).format({num:i})}Object.defineProperty(t,"__esModule",{value:!0});var n=r.i18n_default_project("sharing"),s=n._,a=n.ungettext;t.getTimeUntilDeadlineString=o}),define("modules/clean/react/columnheader",["require","exports","tslib","external/classnames","external/react","external/react-dom-factories","external/prop-types","external/lodash","modules/clean/css","modules/clean/react/css","modules/core/i18n","jquery","modules/clean/react/sprite"],function(e,t,r,o,n,s,a,i,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=n.createElement;t.SortDirections={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"};var p;(function(e){e.STATIC="STATIC",e.SINGLE="SINGLE",e.MULTI="MULTI"})(p=t.ColumnTypes||(t.ColumnTypes={}));var m=a.shape({label:a.string.isRequired,sortField:a.string,headerClassName:a.string,labelClassName:a.string}),f=a.shape({type:a.oneOf([p.STATIC,p.SINGLE,p.MULTI]).isRequired,label:a.string,headerClassName:a.string,labelClassName:a.string,sortField:a.string,content:a.node,columns:a.arrayOf(m),infoToolTipRenderFunc:a.func}).isRequired,h=function(e,t){for(var r=0,o=Array.from(t);r<o.length;r++){var n=o[r];if(n.sortField===e)return n;if(n.type===p.MULTI){var s=h(e,n.columns);if(s)return s}}return null},_=(function(e){function o(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={cssLoaded:!1},r._didChangeSort=function(e,t){var o=e!==r.props.activeSortField,n=t!==r.props.activeSortDirection;return o||n},r.handleSingleColumnClick=function(e){var o,n=e.sortField;if(o=r.props.activeSortField===e.sortField?r.props.activeSortDirection===t.SortDirections.ASCENDING?t.SortDirections.DESCENDING:t.SortDirections.ASCENDING:r.props.activeSortDirection,r._didChangeSort(n,o))return r.props.onSortChange(n,o)},r.handleSubColumnChange=function(e){var o=e.sortField,n=t.SortDirections.ASCENDING;return r._didChangeSort(o,n)&&r.props.onSortChange(o,n),r.props.onMultiColumnChange(e)},r.renderStaticColumnHeader=function(e){return d(b,{key:e.label,label:e.label,labelClassName:e.labelClassName||"",className:e.headerClassName||"",content:e.content,role:e.role})},r.renderSingleColumnHeader=function(e){return d(g,{key:e.label,label:e.label,isActive:r.props.activeSortField===e.sortField,onClick:function(){return r.handleSingleColumnClick(e)},sortDirection:r.props.activeSortDirection,canTriggerSortDirection:!0,className:e.headerClassName||"",tabbable:r.props.tabbable,disabled:r.props.disabled,infoToolTipRenderFunc:e.infoToolTipRenderFunc})},r.renderMultiColumnHeader=function(e){return d(v,{key:e.columns[0].label,columns:e.columns,activeSortField:r.props.activeSortField,initialSortField:r.props.initialMultiColumnSortField,onSubColumnChange:r.handleSubColumnChange,tabbable:r.props.tabbable,disabled:r.props.disabled,infoToolTipRenderFunc:e.infoToolTipRenderFunc})},r}return r.__extends(o,e),o.prototype.componentWillMount=function(){var e=this;return this.props.css?l.require_css(this.props.css,function(){return e.setState({cssLoaded:!0})}):this.setState({cssLoaded:!0})},o.prototype.render=function(){if(this.state.cssLoaded){for(var e=[],t=0,r=Array.from(this.props.columns);t<r.length;t++){var o=r[t];o.type===p.STATIC?e.push(this.renderStaticColumnHeader(o)):o.type===p.SINGLE?e.push(this.renderSingleColumnHeader(o)):o.type===p.MULTI&&e.push(this.renderMultiColumnHeader(o))}var n="c-column-header "+this.props.className;return s.ul({role:"row",className:n},e)}return s.ul(null)},o.displayName="ColumnHeader",o.propTypes={columns:a.arrayOf(f).isRequired,className:a.string,css:a.string,tabbable:a.bool,disabled:a.bool,activeSortField:a.string,activeSortDirection:a.oneOf([t.SortDirections.ASCENDING,t.SortDirections.DESCENDING]),initialMultiColumnSortField:a.string,onSortChange:a.func,onMultiColumnChange:a.func},o.defaultProps={tabbable:!0,disabled:!1,activeSortField:void 0,activeSortDirection:t.SortDirections.ASCENDING,onSortChange:i.noop,onMultiColumnChange:i.noop},o})(n.Component),b=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return s.li({role:this.props.role,className:"c-column-header__header u-pad-vertical-xs "+this.props.className},null!=this.props.content?this.props.content:void 0,s.span({className:"col-header-contents "+this.props.labelClassName},this.props.label))},t.displayName="_StaticColumnHeader",t.propTypes={label:a.string.isRequired,labelClassName:a.string,className:a.string.isRequired,content:a.node,role:a.string},t.defaultProps={role:"columnheader"},t})(n.Component);t.ColumnHeader=c(_,["/static/css/legacy_packages/components-vflj18kpx.css","/static/css/scooter/scooter-scoped-vflhQ6850.css"]);var g=(function(e){function n(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderColumnHeaderToolTip=function(){return null===r.props.infoToolTipRenderFunc?null:r.props.infoToolTipRenderFunc()},r.renderColumnHeaderLabel=function(){if(!r.props.isActive||!r.props.canTriggerSortDirection)return[s.span({key:"label"
},r.props.label)];var e=r.props.sortDirection===t.SortDirections.ASCENDING,n=s.span({key:"icon-element",className:o({"c-column-header__sort-arrow":!0,"c-column-header__sort-arrow--up":e,"c-column-header__sort-arrow--down":!e})});return[s.span({key:"label"},r.props.label),n]},r.getActionDescription=function(){if(r.props.nextColumnLabel){return u._("Swap column to %(nextlabel)s",{comment:"nextlabel is the name of the column that the current column will be replaced with when this button is clicked."}).format({nextlabel:r.props.nextColumnLabel})}return r.props.sortDirection===t.SortDirections.DESCENDING?u._("Sort in ascending order"):r.props.sortDirection===t.SortDirections.ASCENDING?r.props.isActive?u._("Sort in descending order"):u._("Sort in ascending order"):null},r.getAriaDirectionName=function(){if(r.props.isActive){if(r.props.sortDirection===t.SortDirections.ASCENDING)return"ascending";if(r.props.sortDirection===t.SortDirections.DESCENDING)return"descending"}return""},r}return r.__extends(n,e),n.prototype.render=function(){var e=o("c-column-header__button u-trim-margin u-trim-padding",{"u-font-strong":this.props.isActive});return s.li({role:"columnheader","aria-sort":this.getAriaDirectionName(),className:"c-column-header__header u-pad-vertical-xs "+this.props.className},s.button({className:e,onClick:this.props.onClick,ref:"columnButton",title:this.getActionDescription(),tabIndex:this.props.tabbable?0:-1,disabled:this.props.disabled},this.renderColumnHeaderLabel(),this.renderColumnHeaderToolTip()))},n.displayName="_ColumnHeaderView",n.propTypes={label:a.string.isRequired,className:a.string,isActive:a.bool,canTriggerSortDirection:a.bool,nextColumnLabel:a.string,tabbable:a.bool,disabled:a.bool,sortDirection:a.oneOf([t.SortDirections.ASCENDING,t.SortDirections.DESCENDING]),onClick:a.func,infoToolTipRenderFunc:a.func},n.defaultProps={className:null,isActive:!1,canTriggerSortDirection:!1,nextColumnLabel:void 0,tabbable:!0,disabled:!1,sortDirection:t.SortDirections.DESCENDING,onClick:i.noop,infoToolTipRenderFunc:null},n})(n.Component),v=(function(e){function t(t){var r=e.call(this,t)||this;r.updateCurrentColumnIndex=function(e){var t=h(e,r.props.columns);if(t){var o=r.props.columns.indexOf(t);return o!==r.state.currentColumnIndex&&r.props.onSubColumnChange(t),r.setState({currentColumnIndex:o})}},r.switchToColumn=function(e){return r.props.onSubColumnChange(e)};var o;if(t.initialSortField){var n=h(t.initialSortField,t.columns);n&&(o=t.columns.indexOf(n))}return r.state={currentColumnIndex:o||0},r}return r.__extends(t,e),t.prototype.componentWillMount=function(){return this.updateCurrentColumnIndex(this.props.activeSortField)},t.prototype.componentWillReceiveProps=function(e){if(e.activeSortField!==this.props.activeSortField)return this.updateCurrentColumnIndex(e.activeSortField)},t.prototype.render=function(){var e=this,t=this.props.columns[this.state.currentColumnIndex],r=this.props.activeSortField&&this.props.activeSortField===t.sortField,o=(this.state.currentColumnIndex+1)%this.props.columns.length,n=this.props.columns[o];return d(g,{ref:"singleColumn",key:t.label,className:t.headerClassName||"",canTriggerSortDirection:!1,label:t.label,nextColumnLabel:n.label,tabbable:this.props.tabbable,disabled:this.props.disabled,isActive:r,onClick:function(){return e.switchToColumn(n)},infoToolTipRenderFunc:this.props.infoToolTipRenderFunc})},t.displayName="_MultiColumnHeader",t.propTypes={columns:a.arrayOf(m).isRequired,tabbable:a.bool,disabled:a.bool,activeSortField:a.string,initialSortField:a.string,onSubColumnChange:a.func,infoToolTipRenderFunc:a.func},t.defaultProps={tabbable:!0,disabled:!1,activeSortField:void 0,onSubColumnChange:i.noop,infoToolTipRenderFunc:null},t})(n.Component)}),define("modules/clean/react/maestro/tab_nav",["require","exports","tslib","external/classnames","external/react","external/lodash","spectrum/vertically_fixed","modules/clean/react/tabs/tab_util","modules/clean/react/tabs/tab_bar","modules/clean/react/tabs/tabs","modules/clean/react/css"],function(e,t,r,o,n,s,a,i,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedTabBar=function(e){var t=e.tabs,r=e.onChange,o=e.idPrefix,s=e.selectedIndex;return n.createElement("div",{className:"c-tabs__bar-shadow"},n.createElement(a.VerticallyFixed,null,n.createElement(l,{tabs:t,onChange:r,idPrefix:o,selectedIndex:s})))};var d=(function(e){function a(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedIndex:t.props.defaultSelectedIndex},t._onChange=function(e,r){t.props.onChange&&t.props.onChange(e,r),t.setState({selectedIndex:r})},t}return r.__extends(a,e),a.prototype.componentWillReceiveProps=function(e){this.props.defaultSelectedIndex!==e.defaultSelectedIndex&&this.setState({selectedIndex:e.defaultSelectedIndex})},a.prototype.render=function(){var e=this.props,r=e.variant,a=e.className,l=e.tabs,u=e.children,d=this.state.selectedIndex,p=this.props.idPrefix||"tabset"+s.uniqueId();return n.createElement("div",{className:o(r,a,"maestro-tab-nav")},n.createElement(t.FixedTabBar,{tabs:l,onChange:this._onChange,idPrefix:p,selectedIndex:d}),n.createElement(c.TabContent,{isSelected:!0,id:i.getTabContentId(p),tabId:i.getTabId(p,this.state.selectedIndex)},u))},a.defaultProps={defaultSelectedIndex:0,variant:i.TabVariant.DEFAULT},a})(n.Component),p=u(d,["/static/css/legacy_packages/components-vflj18kpx.css"]);t.TabNav=p}),define("modules/clean/react/professional_file_request_landing_page",["require","exports","tslib","modules/clean/ajax","spectrum/backdrop","modules/clean/react/button","modules/clean/file_collector/logger","modules/clean/react/image","external/react","modules/clean/react/css","modules/clean/static_urls"],function(e,t,r,o,n,s,a,i,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(t){function c(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(c,t),c.prototype.componentWillMount=function(){e(["modules/clean/react/professional_file_request_notification_modal"])},c.prototype.dismissProfessionalFileRequest=function(){o.WebRequest({url:"/drops/seen_pfq_experiment",type:"POST"})},c.prototype.componentDidMount=function(){a.log("premium_fr_expt_visited"),this.dismissProfessionalFileRequest()},c.prototype.render=function(){return"V1"===this.props.variant?l.createElement(n.Backdrop,{isVisible:!0,className:"pfr-landing-page"},this.renderV1Content(),this.renderFooter("Get branded file requests, 1 TB (1,000 GB) of storage space, and more with Dropbox Professional—only $19.99/month.")):l.createElement(n.Backdrop,{isVisible:!0,className:"pfr-landing-page"},this.renderV2Content(),this.renderFooter("Get customized file requests, Showcase, 1 TB (1,000 GB) of storage space, and more with Dropbox Professional—only $19.99/month."))},c.prototype.renderEmphasis=function(e){return l.createElement("span",{className:"emphasis"},e)},c.prototype.renderV1Content=function(){return l.createElement("div",{className:"exp-1-container"},l.createElement("div",{className:"content-container"},l.createElement("h1",null,"Take the hassle out of collecting files "),l.createElement("p",null,"Stop wasting time using email attachments to collect files from others. With file requests, you can easily collect files from multiple people with a single link."),l.createElement("ul",null,l.createElement("li",{className:"set-files-from-anyone"},this.renderEmphasis("Set files from anyone"),"—whether or not they have a Dropbox account."),l.createElement("li",{className:"easily-receive-large-files"},this.renderEmphasis("Easily receive large files")," without the size restrictions of email attachments."),l.createElement("li",{className:"organize-everything-in-one-place"},this.renderEmphasis("Organize everything in one place")," with everyone’s files saved in a single folder."),l.createElement("li",{className:"customize-your-file-request-page"},this.renderEmphasis("Customize your file request page")," so people see your branding and know it’s really you."))),l.createElement("div",{className:"image-container"},l.createElement(i.Image,{width:807,height:540,src:u.static_url("/static/images/professional_file_request/exp-1-collecting-files-vflbnVBWc.png")})))},c.prototype.renderV2Content=function(){return l.createElement("div",{className:"exp-2-container"},l.createElement("h1",null,"Take the hassle out of working with clients"),l.createElement("div",{className:"center-align"},l.createElement("div",{className:"item left-item"},l.createElement(i.Image,{width:287,height:265,src:u.static_url("/static/images/professional_file_request/exp-2-showcase-vflYC64JS.png")}),l.createElement("h2",null,"Stop chasing down files"),l.createElement("p",null,"With file requests, you can easily get large files from anyone - even if they don't have a Dropbox account. You can also customize your file request page.")),l.createElement("div",{className:"item right-item"},l.createElement(i.Image,{width:395,height:265,src:u.static_url("/static/images/professional_file_request/exp-2-collecting-files-vfl0xXymC.png")}),l.createElement("h2",null,"Share your work with style"),l.createElement("p",null,"Dropbox Showcase makes delivering files an opportunity to impress. Share your work with clients and partners in a professionally branded page, and track who views your content."))))},c.prototype.renderFooter=function(e){return l.createElement("div",{className:"pfr-footer"},l.createElement("p",{className:"tagline"},e),l.createElement("div",{className:"pfr-button-container"},l.createElement(s.Button,{onClick:this.props.onClickInterested},"I'm interested"),l.createElement(s.Button,{importance:"secondary",onClick:this.props.onClickNotInterested},"I'm not interested")))},c})(l.Component);t.ProfessionalFileRequestLandingPageElement=d,t.ProfessionalFileRequestLandingPage=c(d,["/static/css/react/professional_file_request_landing_page-vfl8EoTsO.css"])}),define("modules/clean/sharing/maestro_components/overflow_menu",["require","exports","tslib","external/react","external/react-dom-factories","external/prop-types","spectrum/overflow_button","external/lodash","modules/clean/react/bubble_menu","modules/clean/react/css","modules/core/i18n","external/classnames","modules/clean/react/sprite"],function(e,t,r,o,n,s,a,i,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=o.createElement,p=u.i18n_default_project("sharing")._,m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderOverflowButton=function(){return d(a.OverflowButton,{"aria-label":p("More actions"),variant:t.props.rowIsHovered?"secondary":"borderless",disabled:t.props.disabled})},t}return r.__extends(t,e),t.prototype.render=function(){return n.div({className:"overflow-menu"},this.props.disabled?this._renderOverflowButton():d(l.BubbleMenu,{position:this.props.position,targetButton:this._renderOverflowButton(),items:this.props.overflowActions}))},t.displayName="OverflowMenu",t.propTypes={className:s.string,disabled:s.bool,overflowActions:s.arrayOf(s.element),position:s.oneOf(i.values(l.BubbleMenu.POSITIONS)),rowIsHovered:s.bool},t.defaultProps={position:l.BubbleMenu.POSITIONS.BOTTOM_ALIGN_RIGHT,rowIsHovered:!1},t})(o.Component);t.OverflowMenu=c(m,["/static/css/sharing/maestro-components-vflPs63AA.css","/static/css/sharing/maestro-layout-vflvEmc2B.css"])}),define("modules/clean/sharing/share_page/constants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});(function(e){e.FOLDER="folder",e.FILE="file",e.LINK="link"})(t.SharePageTab||(t.SharePageTab={}));(function(e){e.NEEDS_LOAD="needs-load",e.EMAIL_UNVERIFIED="email-unverified",e.FETCHING="fetching",e.ERROR="error",e.FINISHED="finished"})(t.ListingState||(t.ListingState={}))}),define("modules/clean/sharing/share_page/views/row_actions",["require","exports","tslib","external/classnames","external/react","external/react-dom-factories","modules/clean/react/sprite","modules/clean/sharing/maestro_components/overflow_menu","modules/core/i18n"],function(e,t,r,o,n,s,a,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n.createElement,u=l.i18n_default_project("sharing")._,d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderOverflowButton=function(){var e;switch(t.props.importance){case"primary":e="more";break;case"secondary":e="more-gray";break;case"tertiary":e="more";break;default:throw new Error("Unknown importance '"+t.props.importance+"'")}return s.button({className:o(["share-page-row-actions__more","c-btn c-btn--"+t.props.importance,"u-l-ib","u-l-ib--m","u-mar-left-xs"]),disabled:t.props.disabled},c(a.Sprite,{alt:u("More actions"),className:"share-page-row-actions__more-sprite",group:"web",name:e}))},t}return r.__extends(t,e),t.prototype.render=function(){return s.div({},null!=this.props.mainAction?s.button({className:o((e={"share-page-row-actions__main-action":!0,"u-l-ib u-l-ib--m":!0},e["c-btn c-btn--"+this.props.importance]=!0,e["mu-height-4x"]=!0,e)),disabled:this.props.disabled||this.props.mainAction.disabled,onClick:this.props.mainAction.onClick},this.props.mainAction.label):void 0,this.props.overflowActions.length>0?c(i.OverflowMenu,{className:"u-l-ib u-l-ib--m",disabled:this.props.disabled,overflowActions:this.props.overflowActions,rowIsHovered:this.props.rowIsHovered}):void 0);var e},t.displayName="RowActions",t.defaultProps={disabled:!1,importance:"primary",overflowActions:[],rowIsHovered:!1},t})(n.Component);t.RowActions=d}),define("modules/clean/sharing/share_page/views/tab_states",["require","exports","tslib","external/react","modules/clean/sharing/share_page/constants","modules/constants/sharing","modules/core/i18n"],function(e,t,r,o,n,s,a){"use strict";function i(e,t,r){void 0===r&&(r=!1);for(var o=[],n=e<t,s=r?n?t+1:t-1:t,a=e;n?a<s:a>s;n?a++:a--)o.push(a);return o}Object.defineProperty(t,"__esModule",{value:!0});var l=a.i18n_default_project("sharing")._,c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderEmptyView=function(){var e;switch(t.props.tabType){case n.SharePageTab.FOLDER:e=l(s.SHARING_PAGE_REDESIGN.REDESIGN?"No shared folders to add.":"No shared folders yet");break;case n.SharePageTab.FILE:e=l(s.SHARING_PAGE_REDESIGN.REDESIGN?"No files are shared with you.":"No shared files yet");break;case n.SharePageTab.LINK:e=l(s.SHARING_PAGE_REDESIGN.REDESIGN?"You haven’t created any shared links.":"No links created yet.");break;default:throw new Error("Unknown share page tab type")}var r=s.SHARING_PAGE_REDESIGN.REDESIGN?null:l("Name");return o.createElement(u,{headerText:r,descriptionText:e})},t}return r.__extends(t,e),t.prototype.renderByListingState=function(){switch(this.props.listingState){case n.ListingState.NEEDS_LOAD:case n.ListingState.FETCHING:return o.createElement(p,null,this.props.children);case n.ListingState.FINISHED:return null!=this.props.children?this.props.children:this._renderEmptyView();case n.ListingState.EMAIL_UNVERIFIED:return o.createElement(m,{onEmailWantToVerify:this.props.onEmailWantToVerify,tab:this.props.tabType});case n.ListingState.ERROR:return o.createElement(d,{tab:this.props.tabType},this.props.children);default:throw new Error("Unknown listing state")}},t.prototype.render=function(){return o.createElement("div",{className:this.props.className},null!=this.props.header?o.createElement("div",{className:"u-mar-vertical-m mu-mar-vertical-2x mu-lh-3x"},this.props.header):null,this.renderByListingState())},t.displayName="PageTab",t.defaultProps={className:""},t})(o.Component);t.PageTab=c;var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderEmptyRow=function(e,t){return void 0===t&&(t=""),o.createElement("li",{className:"empty-row",key:e},o.createElement("span",null,t))},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t="share-page__empty-view "+(this.props.headerText?"":"share-page__empty-view--no-header}"),r=i(1,this.props.numEmptyRows,!0).map(function(t){return e._renderEmptyRow(t)});return o.createElement("div",{className:t},this.props.headerText?o.createElement("div",{className:"u-mar-vertical-xs"},this.props.headerText):void 0,o.createElement("ul",{className:"o-list-ui"},this._renderEmptyRow("emptyrow")),this._renderEmptyRow(0,this.props.descriptionText),r)},t.displayName="EmptyView",t.defaultProps={numEmptyRows:12},t})(o.Component);t.EmptyView=u;var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.renderErrorMsg=function(){var e=this.props.tab;if(e===n.SharePageTab.FOLDER)return l(s.SHARING_PAGE_REDESIGN.REDESIGN?"Couldn’t retrieve shared folders. Reload the page to try again.":"Something went wrong while retrieving your shared folders. Please reload the page to try again.");if(e===n.SharePageTab.FILE)return l(s.SHARING_PAGE_REDESIGN.REDESIGN?"Couldn’t retrieve files shared with you. Reload the page to try again.":"Something went wrong while retrieving files shared with you. Please reload the page to try again.");throw new Error("Unknown share page tab type")},t.prototype.render=function(){return o.createElement("div",null,o.createElement("div",{className:"c-banner c-banner--error c-banner--unpinned u-font-center"},this.renderErrorMsg()),this.props.children)},t.displayName="ErrorView",t})(o.Component);t.ErrorView=d;var p=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return o.createElement("div",null,this.props.children,o.createElement("div",{className:"u-font-center"},o.createElement("div",{className:"u-mar-top-xl c-loader c-loader--spinner--blue"},l("Loading…"))))},t.displayName="LoadingView",t})(o.Component);t.LoadingView=p;var m=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e;switch(this.props.tab){case n.SharePageTab.FOLDER:e=l("To see folders shared with you, you need to verify your email.");break;case n.SharePageTab.FILE:e=l("To see files shared with you, you need to verify your email.");break;default:throw new Error("Unknown share page tab type")}return o.createElement("div",{className:"u-font-center"},o.createElement("h1",null,l("Verify your email")),o.createElement("h2",null,e),o.createElement("button",{className:"c-btn c-btn--primary",onClick:this.props.onEmailWantToVerify},l("Send verification email")))},t.displayName="UnverifiedEmailView",t})(o.Component);t.UnverifiedEmailView=m}),define("spectrum/backdrop",["require","exports","tslib","spectrum/backdrop/index"],function(e,t,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.__exportStar(o,t)}),define("spectrum/backdrop/backdrop",["require","exports","tslib","classnames","react"],function(e,t,r,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Backdrop=function(e){var t=e.className,s=e.isVisible,a=r.__rest(e,["className","isVisible"]);return s?n.createElement("div",r.__assign({className:o("mc-backdrop",t)},a)):null}}),define("spectrum/backdrop/index",["require","exports","tslib","spectrum/backdrop/backdrop"],function(e,t,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.__exportStar(o,t)});
//# sourceMappingURL=pkg-drops.min.js-vflV5iAL0.map