define(["require","exports","tslib","react","classnames","moment","spectrum/overflow_button","spectrum/popover","spectrum_comments/comment_avatar","spectrum_comments/comment_editor/comment_editor","spectrum_comments/comment_editor/components/post_component"],function(e,t,n,o,s,r,c,a,m,i,l){"use strict";function p(e){return o.createElement(l.PostBar,n.__assign({},e,{buttonLabel:"Save"}))}Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultProps={isEditing:!1},t.onDelete=t.props.actions.onDeleted,t.onEdit=function(){t.props.onStartEdit(t.props.comment)},t.onSave=function(e){t.props.actions.onEdited(e),t.props.onEndEdit()},t.onMentionsQueryUpdated=t.props.actions.onMentionsQueryUpdated,t}return n.__extends(t,e),Object.defineProperty(t.prototype,"classNames",{get:function(){var e=this.props,t=e.active,n=void 0!==t&&t;return s(e.className,{"sc-comment":!0,"sc-comment-active":n,"sc-comment-deleted":e.comment.deleted})},enumerable:!0,configurable:!0}),t.prototype.renderActionsMenu=function(){var e=this.props.comment.userPermissions;return e.canEdit||e.canDelete?o.createElement(a.Popover,{className:"sc-comment-actions"},o.createElement(a.PopoverTrigger,{className:"sc-comment-actions-button"},o.createElement(c.OverflowButton,{size:"small",variant:"borderless","aria-label":"Actions"})),o.createElement(a.PopoverContent,{attachment:"right"},e.canEdit&&o.createElement(a.PopoverContentItem,{onClick:this.onEdit},"Edit"),e.canDelete&&o.createElement(a.PopoverContentItem,{className:"sc-comment-actions-delete",onClick:this.onDelete},"Delete"))):null},t.prototype.renderDeletedMode=function(){return o.createElement("li",{className:this.classNames},o.createElement("div",{className:"sc-comment-avatar"},o.createElement(m.DeletedCommentAvatar,null)),o.createElement("div",{className:"sc-comment-content"},o.createElement("div",null,this.props.children,o.createElement("span",{className:"sc-comment-text"},"This comment was deleted."))))},t.prototype.renderDisplayMode=function(){var e=this.props,t=e.active,n=void 0!==t&&t,s=e.comment;return o.createElement("li",{className:this.classNames},o.createElement("div",{className:"sc-comment-avatar"},o.createElement(m.CommentAvatar,{user:s.author})),o.createElement("div",{className:"sc-comment-content"},n&&o.createElement("div",{className:"sc-comment-info"},o.createElement("span",{className:"sc-comment-author"},s.author.name.display),o.createElement("span",{className:"sc-comment-timestamp"},r(s.timestamp).fromNow()),n&&this.renderActionsMenu()),o.createElement("div",null,this.props.children,o.createElement("span",{className:"sc-comment-text"},s.content.text))))},t.prototype.renderEditMode=function(){var e=this.props,t=(e.actions,e.className),n=e.comment,r=e.mentionsMatches,c=s(t,"sc-comment-inline-editor");return o.createElement(i.CommentEditor,{author:n.author,className:c,content:n.content,postSignalComponent:p,onPost:this.onSave,mentionsMatches:r,onMentionsQueryUpdated:this.onMentionsQueryUpdated})},t.prototype.render=function(){return this.props.comment.deleted?this.renderDeletedMode():this.props.isEditing?this.renderEditMode():this.renderDisplayMode()},t})(o.PureComponent);t.Comment=d});
//# sourceMappingURL=comment.min.js-vflCf0yle.map