define(["require","exports","tslib","react","classnames","spectrum_comments/thread","spectrum_comments/comment","spectrum_comments/comment_editor/comment_utils","spectrum_comments/comment_editor/comment_editor","spectrum_comments/comment_editor/components/post_component"],function(e,t,n,o,r,a,d,s,i,c){"use strict";function m(e){return o.createElement(c.PostBar,n.__assign({},e,{buttonLabel:"Post"}))}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeThreadID:"",content:s.createEmptyContent(),editedComment:void 0},t.onThreadActivated=function(e){return function(){t.setState({activeThreadID:e.id}),t.props.actionsAdapter.onThreadActivated(e)}},t.onStartEdit=function(e){t.setState({editedComment:e})},t.onEndEdit=function(){t.setState({editedComment:void 0})},t.handleClick=function(e){e.currentTarget===e.target&&t.setState({activeThreadID:""})},t.onPost=function(e,n){t.setState({content:s.createEmptyContent()}),t.props.actionsAdapter.onThreadCreated(e,n)},t}return n.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,s=t.className,c=void 0===s?"":s,u=t.commentComponent,p=void 0===u?function(e){return o.createElement(d.Comment,n.__assign({},e))}:u,l=t.editorComponent,h=void 0===l?function(e){return o.createElement(i.CommentEditor,n.__assign({},e))}:l,C=t.user,f=t.mentionsMatches,v=n.__rest(t,["className","commentComponent","editorComponent","user","mentionsMatches"]),_=this.state,A=_.activeThreadID,E=_.content,T=r(c,{"sc-comment-stream":!0,"sc-comment-stream-enabled":v.enabled}),M=h({author:C,className:"sc-comment-stream-editor",content:E,postSignalComponent:m,onPost:v.actionsAdapter.onThreadCreated,mentionsMatches:f,onMentionsQueryUpdated:v.actionsAdapter.onMentionsQueryUpdated}),y=v.threads.map(function(t){return o.createElement(a.Thread,{key:t.id,actions:{onReply:function(e){return v.actionsAdapter.onThreadRepliedTo(t.id,e)},onMarkAsRead:function(){return v.actionsAdapter.onThreadMarkedAsRead(t.id)},onMarkAsUnread:function(){return v.actionsAdapter.onThreadMarkedAsUnread(t.id)},onResolve:function(){return v.actionsAdapter.onThreadResolved(t.id)},onUnresolve:function(){return v.actionsAdapter.onThreadUnresolved(t.id)},onCommentDeleted:function(e){return v.actionsAdapter.onCommentDeleted(e)},onCommentEdited:function(e,t){return v.actionsAdapter.onCommentEdited(e,t)},onMentionsQueryUpdated:v.actionsAdapter.onMentionsQueryUpdated},active:t.id===A,commentComponent:p,editedComment:e.state.editedComment,onActivated:e.onThreadActivated(t),onStartEdit:e.onStartEdit,onEndEdit:e.onEndEdit,thread:t,user:C,mentionsMatches:f})});return o.createElement("div",{className:T},M,o.createElement("ul",{className:"sc-comment-stream-threads",onClick:this.handleClick},y))},t})(o.PureComponent);t.CommentStream=u,a.Thread.displayName="Thread"});
//# sourceMappingURL=comment_stream.min.js-vflpre2al.map