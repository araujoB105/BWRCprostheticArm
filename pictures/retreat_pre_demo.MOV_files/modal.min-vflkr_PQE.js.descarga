define(["require","exports","tslib","external/react","modules/clean/analytics","modules/clean/em_string","modules/clean/filepath","modules/clean/react/copy_to_dropbox/actions","modules/clean/react/modal","modules/clean/react_format","modules/clean/viewer","modules/core/i18n","modules/core/notify"],function(e,t,o,r,n,a,s,l,i,m,c,d,u){"use strict";function _(e){var t=c.Viewer.get_viewer();if(t.is_paired)switch(e){case"personal":return d._("Saving to your personal Dropbox...");case"work":return d._("Saving to your %(team_name)s Dropbox...").format({team_name:t.team_name})}return d._("Saving to your Dropbox...")}function p(e,t){var o=c.Viewer.get_viewer(),r=o.get_user_by_role(t);if(r&&r.is_cdm_member)return d._("Save to your member folder?");if(o.is_paired)switch(t){case"personal":return d._("Save to your personal Dropbox account?");case"work":var n=o.team_name,s=new a.Emstring(n||"").length,l=Math.max(10,15-s);return d._("Save ‘%(filename)s’ to my %(team_name)s Dropbox").format({filename:a.Emstring.em_snippet(e,l),team_name:n})}return d._("Save ‘%(filename)s’ to my Dropbox").format({filename:a.Emstring.em_snippet(e,15)})}function f(e,t,o){var n=c.Viewer.get_viewer(),l=n.get_user_by_role(t);if(e=a.Emstring.em_snippet(e,15),l&&l.is_cdm_member)return m.reactFormat(d._("<strong>%(file_name)s</strong> will be saved to the <strong>%(cdm_tmf_name)s</strong> folder in your %(team_name)s Dropbox account."),{file_name:e,cdm_tmf_name:s.filename(l.cdm_tmf_path),team_name:n.team_name,strong:r.createElement("strong",null)});if(n.is_paired)switch(t){case"personal":return m.reactFormat(d._("<strong>%(file_name)s</strong> will be saved to your personal Dropbox account and synced to any connected devices."),{file_name:e,strong:r.createElement("strong",null)});case"work":return o?d._("This folder will be instantly saved to your %(team_name)s Dropbox and downloaded to all the computers linked to your %(team_name)s account.").format({team_name:n.team_name}):d._("This file will be instantly saved to your %(team_name)s Dropbox and downloaded to all the computers linked to your %(team_name)s account.").format({team_name:n.team_name})}return o?d._("This folder will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."):d._("This file will be instantly saved to your Dropbox and downloaded to all the computers linked to your account.")}Object.defineProperty(t,"__esModule",{value:!0});var y=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleAccept=function(){var e=_(t.props.role);u.Notify.success(e),l.copySharedFile(t.props.shareToken,t.props.userId)},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){n.WebMiscActivityLogger.log("show-c2d-modal",{filename:this.props.fileOrFolder.filename})},t.prototype.render=function(){var e=this.props,t=e.fileOrFolder,o=e.role,n=t.filename,a=t.is_dir;return r.createElement(i.Modal,{title:p(n,o),acceptButtonText:d._("Save"),dismissButtonText:d._("Cancel"),onAccept:this.handleAccept,onDismiss:this.props.onDismiss,style:"default-maestro"},r.createElement("p",{className:"db-modal-message"},f(n,o,a)))},t})(r.Component);t.CopyToDropboxModal=y});
//# sourceMappingURL=modal.min.js-vflNn1lcc.map